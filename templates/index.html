{# Use of jinja2 templates #}
{% extends "layout.html" %}
{% block body %}

<div class="row">
	<div class="col-md-5">
		{% with messages = get_flashed_messages() %} {# flash messages#}
		{% if messages %}
		{% for message in messages %}
		<div class="alert alert-success alert-dismissible fade show" role="alert">
			{{ message }}
			<button type="button" class="close" data-dismiss="alert" aria-label="Close">
				<span aria-hidden="true">&times;</span>
			</button>
		</div>
		{% endfor %}
		{% endif %}
		{% endwith %}

		<div class="card card-body">
			<form action="{{url_for('add_product')}}" method="POST">
				<div class="form-group">
					<input type="text" class="form-control" name="name" placeholder="Name">
				</div>
				<div class="form-group">
					<input type="text" class="form-control" name="description" placeholder="Description">
				</div>
				<div class="form-group">
					<input type="text" class="form-control" name="category" placeholder="Category">
				</div>
				<div class="form-group">
					<input type="text" class="form-control" name="unit_price" placeholder="Unit price">
				</div>
				<div class="form-group">
					<input type="text" class="form-control" name="stock" placeholder="Stock">
				</div>
				<button class="btn btn-primary btn-block">
					Save
				</button>
			</form>
		</div>
	</div>
	<div class="col-md-7">
		<table class="table table-striped table-hover table-bordered table-sm bg-white">
			<thead>
				<tr>
					<td>ID</td>
					<td>Name</td>
					<td>Description</td>
					<td>Category</td>
					<td>Unit price</td>
					<td>Stock</td>
					<td>Operations</td>
				</tr>
			</thead>
			<tbody>
				{% for product in products %}
				<tr>
					<td>{{product.0}}</td>
					<td>{{product.1}}</td>
					<td>{{product.2}}</td>
					<td>{{product.3}}</td>
					<td>{{product.4}}</td>
					<td>{{product.5}}</td>
					<td>
						<a href="/edit/{{product.0}}" class="btn btn-secondary">edit</a>
						<a href="/delete/{{product.0}}" class="btn btn-danger btn-delete">delete</a>
					</td>
				</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>
</div>
</div>

{% endblock %}